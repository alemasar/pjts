var f=Object.defineProperty;var E=(l,e,t)=>e in l?f(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var d=(l,e,t)=>E(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();class b{constructor(e){d(this,"_listeners");d(this,"_value");this._listeners=[],this._value=e}notify(){this._listeners.forEach(e=>e(this._value))}subscribe(e){this._listeners.push(e)}get value(){return this._value}set value(e){e!==this._value&&(this._value=e,this.notify())}}const c={};class T extends HTMLElement{constructor(){super();const e=document.createElement("template"),t=this.attachShadow({mode:"open"});this.setAttribute("class","databinding-element"),e.setAttribute("class","databinding"),e.innerHTML=this.innerHTML,this.appendChild(e),t.appendChild(e.content.cloneNode(!0))}connectedCallback(){var r;console.log("Custom element added to page.",this.innerHTML);const e=(r=this.getAttribute("binding-id"))==null?void 0:r.split(":"),t=e==null?void 0:e.pop(),s=e==null?void 0:e.pop(),o=this.shadowRoot,n=new b(o.innerHTML);n.subscribe(h=>{const p=this.querySelector(".databinding");o.innerHTML=h,this.innerHTML=h,p.innerHTML=h,this.appendChild(p)});const a=Object.keys(c),i=`${s}:${t}`;a.includes(i)===!1&&(c[i]=[]),c[i].push(n)}disconnectedCallback(){console.log("Custom element removed from page.")}adoptedCallback(){console.log("Custom element moved to new page.")}attributeChangedCallback(e){console.log(`Attribute ${e} has changed.`)}}customElements.define("data-binding-component",T);const u=(l,e,t)=>{const s=`${l}:${e}`;Object.keys(c).includes(s)===!0&&c[s].forEach(n=>{console.log("INDDEX::::::",s),n.value=t})},g=(l,e,t)=>{const s=t,o=Object.entries(l);return console.log(o),o.forEach(n=>{let a=`${e}.${n[0]}`;e===""&&(a=`${n[0]}`),typeof n[1]=="object"&&Array.isArray(n[1])===!1?g(n[1],a,s):(console.log("KEY",a),Object.keys(s).includes(a)===!1&&(s[a]=[]),s[a].push(n[1]))}),s},L=(l,e)=>{if(typeof e=="object"&&Array.isArray(e)===!1){let t=g(e,"",{});Object.entries(t).forEach(o=>{u(l,o[0],o[1])})}},y=u,O=L;class C{constructor(){const e=()=>{console.log("HELLO WORLD DESDE SCRIPT DE COMPONENT"),this.changeByObjectValue(),setTimeout(()=>{O("DemoFirstTag",{hello:{title:"AMAZING TITLE",message:"HELLO WORLD AGAIN..... GUAY"},bye:{message:"BYE BYE AGAIN..... GUAY",footer:"AMAZING FOOTER"}})},2e3)};document.addEventListener("DOMContentLoaded",e)}changeByObjectValue(){console.log("CHANGE OBJECT VALUE FROM CLASS")}}const v=new C;console.log("entro EN CAT FILE");const k=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),A=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),H=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));console.log(k);console.log(A);console.log(H);const m=[];class M extends HTMLElement{constructor(){super();d(this,"templateId");const t=new CustomEvent("page-loaded");this.templateId="",this.popstateHandler(),window.addEventListener("popstate",this.popstateHandler.bind(this),!1),document.dispatchEvent(t)}connectedCallback(){}disconnectedCallback(){console.log("Custom element removed from page."),window.removeEventListener("popstate",this.popstateHandler.bind(this),!1)}adoptedCallback(){console.log("Custom element moved to new page.")}attributeChangedCallback(t){console.log(`Attribute ${t} has changed.`)}popstateHandler(){console.log("POPSTATE::::::::",window.location.pathname),history.pushState({},"",""),this.changePageTemplateFromLocation()}attachEventClickLinks(){const t=this.querySelectorAll("a");this.removeLinksClickEvent(),t.forEach(s=>{const o={obj:s,handler:this.clickHandler.bind(this)};s.addEventListener("click",this.clickHandler.bind(this),!1),m.push(o)})}removeLinksClickEvent(){m.forEach(t=>{console.log("REMOVE EVENT"),t.obj.removeEventListener("click",t.handler,!1)}),m.splice(0)}changePageTemplateFromLocation(){var i;let t=this.getPathFromUrl();const s=document.body.querySelectorAll("template"),n=Array.from(s).map(r=>r.id),a=t===""?"indexTemplate":t+"Template";console.log("TEMPLATES IDS::::::::",a),console.log("PUSH STATE::::::::",history),n.includes(a)===!0?this.templateId=a:n.includes(t+"Template")===!1&&(console.log("GO TO URL BEFORE 404",t),this.templateId="404Template",t="404"),this.innerHTML=(i=document.getElementById(this.templateId))==null?void 0:i.innerHTML,this.attachEventClickLinks()}clickHandler(t){return console.log("ENTRO EN HANDLER CLICK",this.linkHandler),this.linkHandler(t)}linkHandler(t){const n=t.target.getAttribute("href").split("/").pop();t.preventDefault(),console.log("LINK HANDLER",n),this.changePageWithUrl(n)}getPathFromUrl(){const t=window.location.pathname.split("/");let s="";return console.log("LOCATION HREF::::::",t),t.shift(),t.length>0&&t[0]!==""&&(s=t[0]),s}changePageWithUrl(t){var o;const s=t.replace("/","");this.templateId="indexTemplate",t!==""&&(this.templateId=s+"Template"),history.pushState({},"",s),console.log("URL TO GO changePageWithUrl:::::::",history.state),this.innerHTML=(o=document.getElementById(this.templateId))==null?void 0:o.innerHTML,this.attachEventClickLinks()}}document.addEventListener("page-loaded",l=>{console.log("PAGE LOADED EVENT:::::::::::",l),setTimeout(()=>{y("DemoFirstTag","hello.message","BYE.... BYE..... GUAY")},1e3)},!1);document.addEventListener("DOMContentLoaded",()=>{customElements.define("cat-page",M)},!1);
